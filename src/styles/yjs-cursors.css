/* YJS Remote Cursor Styles for Monaco Editor with y-monaco binding */

/* Base remote selection styling */
.yRemoteSelection {
  background-color: rgba(255, 255, 255, 0.2) !important;
  border-radius: 2px;
  position: relative;
}

.yRemoteSelectionHead {
  background-color: #007acc !important;
  border-left: 2px solid #007acc !important;
  position: relative;
  z-index: 1000;
}

/* Enhanced cursor label styling */
.yRemoteSelectionHead::after {
  content: attr(data-user-name);
  position: absolute;
  top: -1.3em;
  left: -2px;
  background-color: inherit;
  color: white;
  font-size: 0.7em;
  font-weight: 500;
  padding: 2px 6px;
  border-radius: 3px;
  white-space: nowrap;
  z-index: 1001;
  pointer-events: none;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Fallback for when data-user-name is not set */
.yRemoteSelectionHead:not([data-user-name])::after {
  content: "User";
}

/* y-monaco specific selectors */
.monaco-editor .yRemoteSelection {
  background-color: rgba(255, 255, 255, 0.15) !important;
}

.monaco-editor .yRemoteSelectionHead {
  border-left-width: 2px !important;
  border-left-style: solid !important;
}

/* User-specific cursor colors with enhanced labels */
.yRemoteSelection-0 { 
  background-color: rgba(255, 87, 87, 0.3) !important; 
}
.yRemoteSelectionHead-0 { 
  background-color: #ff5757 !important; 
  border-left-color: #ff5757 !important; 
}
.yRemoteSelectionHead-0::after { 
  background-color: #ff5757; 
  color: white;
}

.yRemoteSelection-1 { 
  background-color: rgba(87, 255, 87, 0.3) !important; 
}
.yRemoteSelectionHead-1 { 
  background-color: #57ff57 !important; 
  border-left-color: #57ff57 !important; 
}
.yRemoteSelectionHead-1::after { 
  background-color: #57ff57; 
  color: #333;
}

.yRemoteSelection-2 { 
  background-color: rgba(87, 87, 255, 0.3) !important; 
}
.yRemoteSelectionHead-2 { 
  background-color: #5757ff !important; 
  border-left-color: #5757ff !important; 
}
.yRemoteSelectionHead-2::after { 
  background-color: #5757ff; 
  color: white;
}

.yRemoteSelection-3 { 
  background-color: rgba(255, 255, 87, 0.3) !important; 
}
.yRemoteSelectionHead-3 { 
  background-color: #ffff57 !important; 
  border-left-color: #ffff57 !important; 
}
.yRemoteSelectionHead-3::after { 
  background-color: #ffff57; 
  color: #333;
}

.yRemoteSelection-4 { 
  background-color: rgba(255, 87, 255, 0.3) !important; 
}
.yRemoteSelectionHead-4 { 
  background-color: #ff57ff !important; 
  border-left-color: #ff57ff !important; 
}
.yRemoteSelectionHead-4::after { 
  background-color: #ff57ff; 
  color: white;
}

.yRemoteSelection-5 { 
  background-color: rgba(87, 255, 255, 0.3) !important; 
}
.yRemoteSelectionHead-5 { 
  background-color: #57ffff !important; 
  border-left-color: #57ffff !important; 
}
.yRemoteSelectionHead-5::after { 
  background-color: #57ffff; 
  color: #333;
}

.yRemoteSelection-6 { 
  background-color: rgba(255, 165, 0, 0.3) !important; 
}
.yRemoteSelectionHead-6 { 
  background-color: #ffa500 !important; 
  border-left-color: #ffa500 !important; 
}
.yRemoteSelectionHead-6::after { 
  background-color: #ffa500; 
  color: white;
}

.yRemoteSelection-7 { 
  background-color: rgba(255, 20, 147, 0.3) !important; 
}
.yRemoteSelectionHead-7 { 
  background-color: #ff1493 !important; 
  border-left-color: #ff1493 !important; 
}
.yRemoteSelectionHead-7::after { 
  background-color: #ff1493; 
  color: white;
}

.yRemoteSelection-8 { 
  background-color: rgba(50, 205, 50, 0.3) !important; 
}
.yRemoteSelectionHead-8 { 
  background-color: #32cd32 !important; 
  border-left-color: #32cd32 !important; 
}
.yRemoteSelectionHead-8::after { 
  background-color: #32cd32; 
  color: white;
}

.yRemoteSelection-9 { 
  background-color: rgba(138, 43, 226, 0.3) !important; 
}
.yRemoteSelectionHead-9 { 
  background-color: #8a2be2 !important; 
  border-left-color: #8a2be2 !important; 
}
.yRemoteSelectionHead-9::after { 
  background-color: #8a2be2; 
  color: white;
}

/* Animation for cursor blink */
.yRemoteSelectionHead {
  animation: yjs-cursor-blink 1s ease-in-out infinite;
}

@keyframes yjs-cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.7; }
}

/* Ensure cursors are visible in dark theme */
.monaco-editor.vs-dark .yRemoteSelection {
  background-color: rgba(255, 255, 255, 0.15) !important;
}

.monaco-editor.vs-dark .yRemoteSelectionHead {
  box-shadow: 0 0 2px rgba(255, 255, 255, 0.3);
}

/* Hover effects for better UX */
.yRemoteSelectionHead:hover::after {
  transform: scale(1.05);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  transition: all 0.2s ease;
}

/* Ensure proper z-index layering */
.yRemoteSelection,
.yRemoteSelectionHead {
  z-index: 5;
}

.yRemoteSelectionHead::after {
  z-index: 10;
}
